<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="utf-8">
    <title>Panel</title>
    <link rel="apple-touch-icon" sizes="180x180" href="https://cdn.holoviz.org/panel/1.6.1/dist/images/apple-touch-icon.png">
        <link rel="icon" href="data:image/png;base64,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" type="">
    <meta name="name" content="NESWare">

    <!-- Template JS -->
    <script src="https://cdn.holoviz.org/panel/1.6.1/dist/bundled/bootstrap5/js/bootstrap.bundle.min.js"></script>
    <style>
      html, body {
	display: flow-root;
        box-sizing: border-box;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
<script type="esms-options">{"shimMode": true}</script>

<script type="text/javascript" src="https://cdn.holoviz.org/panel/1.6.1/dist/bundled/reactiveesm/es-module-shims@^1.10.0/dist/es-module-shims.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-3.6.3.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.6.3.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.6.3.min.js"></script>
<script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.6.3.min.js"></script>
<script type="text/javascript" src="https://cdn.holoviz.org/panel/1.6.1/dist/panel.min.js"></script>

<script type="text/javascript">
  Bokeh.set_log_level("info");
</script>    <!-- Template CSS -->
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.6.1/dist/css/loadingspinner.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.6.1/dist/css/markdown.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.6.1/dist/css/button.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css?v=1.6.1">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.6.1/dist/bundled/bootstrap5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.6.1/dist/bundled/theme/default.css?v=1.6.1">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.6.1/dist/bundled/theme/bootstrap_default.css?v=1.6.1">
    <link rel="stylesheet" href="https://cdn.holoviz.org/panel/1.6.1/dist/bundled/bootstraptemplate/bootstrap.css?v=1.6.1">
    <style type="text/css">
    .navbar {
    background: linear-gradient(120deg, #155799, #159957);
}
    </style>
    <style type="text/css">
    h1,
h2,
h3,
h4,
h5,
h5,
h6 {
    color: #159957
}
    </style>
    <style type="text/css">
    
:host(.pn-loading):before, .pn-loading:before {
  background-color: #c3c3c3;
  mask-size: auto calc(min(50%, 400px));
  -webkit-mask-size: auto calc(min(50%, 400px));
}
    </style>

    <style>
      :root {
	--header-background: #009926;
	--header-color: #FFFFFF;
	--sidebar-width: 240px;
      }
      #header, #header :host {
	--bs-body-bg: var(--header-background);
	--bs-body-color: var(--header-color);
	--design-background-text-color: var(--header-color);
	--design-background-color: var(--header-background);
	background-color: var(--header-background);
	color: var(--header-color);
      }
      #sidebar {
	max-width: var(--sidebar-width) !important;
	width: var(--sidebar-width);
      }
    </style>
  </head>
  <body>
<div class="container-fluid d-flex flex-column vh-100 overflow-hidden" id="container">
  <nav class="navbar navbar-expand-md sticky-top shadow" id="header">
    <button type="button" id="sidebar-toggle" class="navbar-toggle" data-bs-toggle="collapse" data-bs-target="#sidebar" aria-expanded="true" aria-label="Toggle sidebar" aria-controls="sidebar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="app-header">
<a class="navbar-brand app-logo" href="/"><img src="data:image/png;base64,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" class="app-logo"></a><a class="title" href="" >&nbsp;NESWare</a>    </div>
    <div id="header-items">
    </div>
    <div class="pn-busy-container">
      <div id="be3825c9-f9fe-40a7-80e7-0cafcce5e7cc" data-root-id="p1369" style="display: contents;"></div>
    </div>
  </nav>

  <div class="row overflow-hidden" id="content">
    <div class="sidenav collapse-horizontal show" id="sidebar">
      <ul class="nav flex-column">
        <div id="b7c0837d-3a40-44b8-a7bc-9ab8b5229c03" data-root-id="p1378" style="display: contents;"></div>
        <div id="bc2b8370-30d4-4c61-9ef6-2e0fba0c2daf" data-root-id="p1381" style="display: contents;"></div>
        <div id="e3630d15-ead6-4055-9c10-e7951554dd19" data-root-id="p1384" style="display: contents;"></div>
        <div id="b0d807b2-0349-4aaf-b4a8-9eba40e63582" data-root-id="p1387" style="display: contents;"></div>
      </ul>
    </div>

    <div class="col mh-100 float-left" id="main">
          <div id="ea406111-7553-43b3-bab6-2b7348c5219d" data-root-id="p1372" style="display: contents;"></div>
    </div>
  </div>

  <div id="pn-Modal" class="modal fade pn-modal" role="dialog" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content pn-modal-content">
	<button type="button" id="pn-closeModal" class="btn-close pn-modal-close" data-bs-dismiss="modal" aria-label="Close"></button>
	<div class="modal-body">
	</div>
      </div>
    </div>
  </div>
</div>

<div id="a1531076-c8c2-400d-a101-6a6a80a95fae" data-root-id="p1362" style="display: contents;"></div>
<div id="f1449fed-ff7e-4754-846a-d20e7f1e7960" data-root-id="p1365" style="display: contents;"></div>
<div id="d7bbb8ef-6ea9-4a13-8c5e-63933c3b00b3" data-root-id="p1355" style="display: contents;"></div>
<div id="c1f325f3-5b59-45ee-af71-8d3a33a8bd97" data-root-id="p1366" style="display: contents;"></div>


  
    <script type="application/json" id="bcf39a03-97ac-4d0a-880d-b0c57c92df72">
      {"e3de798c-6444-4dfb-acf7-3dcb83b87491":{"version":"3.6.3","title":"NESWare","roots":[{"type":"object","name":"panel.models.location.Location","id":"p1355","attributes":{"name":"location","reload":false}},{"type":"object","name":"panel.models.markup.HTML","id":"p1362","attributes":{"name":"js_area","stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1392","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css"}},{"type":"object","name":"ImportedStyleSheet","id":"p1375","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/bundled/theme/bootstrap.css"}}],"width":0,"height":0,"margin":0,"sizing_mode":"fixed","align":"start","disable_math":true}},{"type":"object","name":"panel.models.reactive_html.ReactiveHTML","id":"p1365","attributes":{"name":"actions","subscribed_events":{"type":"set","entries":["dom_event"]},"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1393","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css"}},{"id":"p1375"}],"margin":0,"align":"start","data":{"type":"object","name":"BootstrapTemplateActions1","id":"p1363","attributes":{"name":"BootstrapTemplateActions00355"}},"scripts":{"type":"map","entries":[["render",["state.modal = new bootstrap.Modal(document.getElementById(&amp;#x27;pn-Modal&amp;#x27;))"]],["open_modal",["state.modal.show()"]],["close_modal",["state.modal.hide()"]]]}}},{"type":"object","name":"panel.models.browser.BrowserInfo","id":"p1366","attributes":{"name":"browser_info"}},{"type":"object","name":"panel.models.markup.HTML","id":"p1369","attributes":{"name":"busy_indicator","css_classes":["loader","light"],"stylesheets":[":host { --loading-spinner-size: 20px; }","\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1394","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css"}},{"type":"object","name":"ImportedStyleSheet","id":"p1395","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loadingspinner.css"}},{"id":"p1375"}],"min_width":20,"min_height":20,"margin":[5,10],"align":"start"}},{"type":"object","name":"panel.models.markup.HTML","id":"p1372","attributes":{"name":"main-139839642597952","tags":["main"],"css_classes":["markdown"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1396","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css"}},{"type":"object","name":"ImportedStyleSheet","id":"p1397","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/markdown.css"}},{"id":"p1375"},".navbar {\n    background: linear-gradient(120deg, #155799, #159957);\n}","h1,\nh2,\nh3,\nh4,\nh5,\nh5,\nh6 {\n    color: #159957\n}"],"max_width":800,"margin":[5,10],"align":"start","text":"&amp;lt;h1 id=&amp;quot;visualizing-a-live-c-model-in-python&amp;quot;&amp;gt;Visualizing a Live C++ Model in Python &amp;lt;a class=&amp;quot;header-anchor&amp;quot; href=&amp;quot;#visualizing-a-live-c-model-in-python&amp;quot;&amp;gt;\u00b6&amp;lt;/a&amp;gt;&amp;lt;/h1&amp;gt;\n&amp;lt;h2 id=&amp;quot;2023-04-16&amp;quot;&amp;gt;2023-04-16 &amp;lt;a class=&amp;quot;header-anchor&amp;quot; href=&amp;quot;#2023-04-16&amp;quot;&amp;gt;\u00b6&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;\n&amp;lt;h3&amp;gt;20 Minutes to Read&amp;lt;/h3&amp;gt;\n&amp;lt;center&amp;gt;&amp;lt;img src=&amp;quot;/assets/images/2023-04-16-visualizing-a-live-cpp-model-in-python/thumbnail_nologo.png&amp;quot; width=&amp;quot;800&amp;quot;&amp;gt;&amp;lt;/center&amp;gt;\n&amp;lt;p&amp;gt;Python is just too good at many things, and of the many things it is good at, it is very good at analyzing and visualizing data. Analyzing and visualizing data are usually very exploratory processes, and so that code is changing frequently. Changing Python is much easier than changing C++, and so it fits very well into that workflow.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;For example, if we model an n-body system (perhaps like the one we breezed by &amp;lt;a href=&amp;quot;/2023/03/11/writing-cpp-like-it-is-python.html&amp;quot;&amp;gt;here&amp;lt;/a&amp;gt;), then we very clearly have a reason to want to code in C++. But we also want to analyze the model, visualize its data, or maybe script some custom control over the model. We are going to start with that code and pull it apart into a handful of pieces that make using it in Python easy.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;We should also note now that we do not want to run our C++ program as a subprocess in Python - this offers the least amount of flexibility and &amp;lt;em&amp;gt;forces&amp;lt;/em&amp;gt; us to handle data through pipes or disk IO. We want Python and C++ communicating directly with one another!&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;One final note before we begin - visualizing models like this has been a true game-changer in the scientific computing course that I teach. I have been adding live dashboards to almost all of our work to help give students better context over what they are coding and the feedback so far has been overwhelmingly positive!&amp;lt;/p&amp;gt;\n&amp;lt;ul&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;#updating-our-code&amp;quot;&amp;gt;Updating our Code&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;#pybind11&amp;quot;&amp;gt;Pybind11&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;#visualizing-our-c-model&amp;quot;&amp;gt;Visualizing our C++ Model&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;#final-notes&amp;quot;&amp;gt;Final Notes&amp;lt;/a&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;h2 id=&amp;quot;updating-our-code&amp;quot;&amp;gt;Updating our Code &amp;lt;a class=&amp;quot;header-anchor&amp;quot; href=&amp;quot;#updating-our-code&amp;quot;&amp;gt;\u00b6&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;\n&amp;lt;p&amp;gt;Let&amp;#x27;s first just take a look at the standalone C++ model that we want to use from Python. In case you are just catching up, this code implements a brute-force n-body simulation. We have many particles all interacting gravitationally with each other:&amp;lt;/p&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-c++&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// main.cpp&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;cmath&amp;amp;gt;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;fstream&amp;amp;gt;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;random&amp;amp;gt;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;vector&amp;amp;gt;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;fmt/format.h&amp;amp;gt;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;fmt/ostream.h&amp;amp;gt;&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;constexpr&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;GRAVITY&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;6.6743e-11&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;  &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// Newton&amp;amp;#39;s Gravitational Constant&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;struct&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nc&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vx&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vy&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ax&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ay&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;mass&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;5.0e6&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;void&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nf&amp;quot;&amp;gt;integrate&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dt&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vx&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;+=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ax&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dt&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vy&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;+=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ay&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dt&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;+=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vx&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dt&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;+=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vy&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dt&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ax&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ay&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;void&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nf&amp;quot;&amp;gt;add_force&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;other&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dx&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;other&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dy&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;other&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;distance&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;hypot&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dx&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dy&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;direction&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;atan2&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dy&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dx&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;force&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;GRAVITY&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;other&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;mass&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;/&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;distance&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;distance&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ax&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;+=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;force&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;cos&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;direction&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ay&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;+=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;force&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;*&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;sin&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;direction&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;};&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;int&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nf&amp;quot;&amp;gt;main&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;()&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;mt19937&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;eng&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;uniform_real_distribution&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dis&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;-50.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;50.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;int&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;1000&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vector&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;reserve&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;auto&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;i&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;i&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;-1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;++&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;i&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;emplace_back&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dis&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;eng&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;),&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dis&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;eng&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;));&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;emplace_back&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;1e12&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;time_delta&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;simulation_time&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;max_simulation_time&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;50.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ofstream&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;csvfile&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;particles.csv&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;while&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;simulation_time&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;max_simulation_time&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;auto&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;            &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;auto&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p2&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;                &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;==&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p2&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;continue&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;                &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;add_force&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p2&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;            &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;auto&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;            &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;integrate&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;time_delta&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;            &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;fmt&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;print&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;csvfile&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;{:.8f},{:.8f},{:.8f},{:.8f}&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;se&amp;quot;&amp;gt;\\n&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;simulation_time&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;mass&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;simulation_time&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;+=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;time_delta&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;There are a few issues with how our program currently works that make using it as a Python module difficult. We are going to do the following:&amp;lt;/p&amp;gt;\n&amp;lt;ul&amp;gt;\n&amp;lt;li&amp;gt;Move the &amp;lt;code&amp;gt;Particle&amp;lt;/code&amp;gt; class to its own header (just for simplicity)&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;Create a new class, &amp;lt;code&amp;gt;ParticleSystem&amp;lt;/code&amp;gt;, that has its own header\n&amp;lt;ul&amp;gt;\n&amp;lt;li&amp;gt;this class should capture the initialization and update logic of the model, but not necessarily &amp;lt;em&amp;gt;the flow&amp;lt;/em&amp;gt; (e.g. the while-loop).&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-cpp&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// particle_system.h&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#pragma once&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;random&amp;amp;gt;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;vector&amp;amp;gt;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;quot;particle.h&amp;amp;quot;&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;struct&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nc&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;int&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;int&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;seed&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;1337&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;mt19937&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nf&amp;quot;&amp;gt;eng&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;seed&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;uniform_real_distribution&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dis&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;reserve&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;auto&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;i&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;i&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;-1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;++&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;i&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;            &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;emplace_back&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dis&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;eng&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;),&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;dis&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;eng&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;));&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;emplace_back&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;1e12&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;void&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;update&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;time_delta&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;auto&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;            &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;auto&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p2&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;                &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;==&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p2&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;continue&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;                &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;add_force&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p2&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;            &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;auto&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;            &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;p1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;integrate&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;time_delta&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;std&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vector&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;};&amp;lt;/span&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;It is important to note that this class does not capture the while-loop! While we could have done so, the while-loop is less a part of the model and more a part of the executor of the model. It represents the flow of time, which users of the model should control. What this class &amp;lt;em&amp;gt;does&amp;lt;/em&amp;gt; allow us to do is create a set of particles, and then advance their state through time.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;With our &amp;lt;code&amp;gt;ParticleSystem&amp;lt;/code&amp;gt; class now ready we can expose it to Python using &amp;lt;code&amp;gt;pybind11&amp;lt;/code&amp;gt;!&amp;lt;/p&amp;gt;\n&amp;lt;h2 id=&amp;quot;pybind11&amp;quot;&amp;gt;pybind11 &amp;lt;a class=&amp;quot;header-anchor&amp;quot; href=&amp;quot;#pybind11&amp;quot;&amp;gt;\u00b6&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;\n&amp;lt;p&amp;gt;&amp;lt;a href=&amp;quot;https://pybind11.readthedocs.io/en/stable/&amp;quot;&amp;gt;&amp;lt;code&amp;gt;pybind11&amp;lt;/code&amp;gt;&amp;lt;/a&amp;gt; is...&amp;lt;/p&amp;gt;\n&amp;lt;blockquote&amp;gt;\n... is a lightweight header-only library that exposes C++ types in Python and vice versa, mainly to create Python bindings of existing C++ code. Its goals and syntax are similar to the excellent Boost.Python library by David Abrahams: to minimize boilerplate code in traditional extension modules by inferring type information using compile-time introspection.\n&amp;lt;/blockquote&amp;gt;\n&amp;lt;p&amp;gt;What this allows us to do is wrap our C++ code using a few minimal constructs and patterns defined by &amp;lt;code&amp;gt;pybind11&amp;lt;/code&amp;gt;, and then we can build that wrapper into a library that Python can import. We want to expose our newly made &amp;lt;code&amp;gt;ParticleSystem&amp;lt;/code&amp;gt; to Python; to do so we need to tell &amp;lt;code&amp;gt;pybind11&amp;lt;/code&amp;gt; what members of the class are to be made available. We will need to expose the constructor, the &amp;lt;code&amp;gt;update&amp;lt;/code&amp;gt; method, and the &amp;lt;code&amp;gt;particles&amp;lt;/code&amp;gt; vector. We also want to open up the &amp;lt;code&amp;gt;Particle&amp;lt;/code&amp;gt; class so that we can access the kinematics through its &amp;lt;code&amp;gt;x&amp;lt;/code&amp;gt;, &amp;lt;code&amp;gt;y&amp;lt;/code&amp;gt;, &amp;lt;code&amp;gt;vx&amp;lt;/code&amp;gt;, and &amp;lt;code&amp;gt;vy&amp;lt;/code&amp;gt; members.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;Here is our heavily commented &amp;lt;code&amp;gt;pybind11&amp;lt;/code&amp;gt; wrapper for our model:&amp;lt;/p&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-cpp&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// particle_model.cpp&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;pybind11/pybind11.h&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;  // include pybind11&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;lt;pybind11/stl.h&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;       // needed when binding STL types&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;namespace&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;py&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;pybind11&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;;&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;cp&amp;quot;&amp;gt;#include&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;cpf&amp;quot;&amp;gt;&amp;amp;quot;particle_system.h&amp;amp;quot;&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// this macro names our Python module &amp;amp;quot;ParticleModel&amp;amp;quot; and we can use&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// m to reference the module in the following block of code.&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;PYBIND11_MODULE&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleModel&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;m&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// define a Python class named &amp;amp;quot;ParticleSystem&amp;amp;quot; from our C++ ParticleSystem class&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// - expose the constructor; we give it a template specifying the signature&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;//   of the inputs&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// - expose the version of our constructor using the default value for the random seed&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// - expose the update method, matching it to the update method of our class&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// - expose the particles vector as both readable and writable&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;py&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;class_&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;m&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;ParticleSystem&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;def&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;py&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;init&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;int&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;int&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;())&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;def&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;py&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;init&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;int&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;const&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kt&amp;quot;&amp;gt;double&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;())&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;def&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;update&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;update&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;def_readwrite&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;particles&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// define a Python class named &amp;amp;quot;Particle&amp;amp;quot; from our C++ Particle class&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// - expose the x position as both readable and writable&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// - expose the y position as both readable and writable&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// - expose the vx velocity as both readable and writable&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;// - expose the vy velocity as both readable and writable&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;py&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;class_&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;m&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;Particle&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;def_readwrite&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;x&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;def_readwrite&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;y&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;def_readwrite&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;vx&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vx&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;        &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;def_readwrite&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s&amp;quot;&amp;gt;&amp;amp;quot;vy&amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;amp;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;::&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vy&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;);&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;And that is it! Simple, right? While I am not going to cover compilers, versions, and installation of all of these things (follow the docs!), assuming you have a typical environment then all we need to do to build this into a module usable by Python is:&amp;lt;/p&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-shell&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;g++-12&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;-std&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;c++20&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;-O3&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;-shared&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;-fPIC&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;$(&amp;lt;/span&amp;gt;python3&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;-m&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;pybind11&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;--includes&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;particle_model.cpp&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;-o&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;ParticleModel&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;$(&amp;lt;/span&amp;gt;python3-config&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;--extension-suffix&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;We are using &amp;lt;code&amp;gt;g++-12&amp;lt;/code&amp;gt; as before, but we have a few additions here.&amp;lt;/p&amp;gt;\n&amp;lt;ul&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;-std=c++20&amp;lt;/code&amp;gt; - while our &amp;lt;code&amp;gt;pybind11&amp;lt;/code&amp;gt; code does not require C++20, our model code does&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;-O3&amp;lt;/code&amp;gt;- enable compiler optimizations heavily geared towards performance&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;-shared&amp;lt;/code&amp;gt; - we are building a shard-object rather than an executable, so we need to tell it to link as such&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;-fPIC&amp;lt;/code&amp;gt; - because we are building a shared-object we need to ensure the compiled binary can be dynamically loaded in memory properly&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;$(python3 -m pybind11 --includes)&amp;lt;/code&amp;gt; - assuming we have installed &amp;lt;code&amp;gt;pybind11&amp;lt;/code&amp;gt; into our Python environment, we can call into it to get the paths to its headers&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;particle_model.cpp&amp;lt;/code&amp;gt; - the binding code we wrote above&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;-o ParticleModel$(python3-config --extension-suffix)&amp;lt;/code&amp;gt; - output the shared-object with the proper suffix&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;p&amp;gt;On my system this yields a file that looks like this:&amp;lt;/p&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-shell&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;ParticleModel.cpython-310-x86_64-linux-gnu.so\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;In Python we can now import and use this module! From the directory containing the new share-object:&amp;lt;/p&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-python&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;from&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;ParticleModel&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;import&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;100&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;50&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;  &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# create a system of 100 particles in the range [-50, 50] in both the x and y axes&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;i&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;in&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;nb&amp;quot;&amp;gt;range&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;10&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;):&amp;lt;/span&amp;gt;  &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# update the system 10 times&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;update&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;in&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;nb&amp;quot;&amp;gt;print&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;sa&amp;quot;&amp;gt;f&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;&amp;amp;lt;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;si&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;si&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;.2f&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;si&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;, &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;si&amp;quot;&amp;gt;{&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;si&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;.2f&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;si&amp;quot;&amp;gt;}&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;gt;&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;Perfect! Or well, sort of... seeing raw positional data is not very useful... so lets visualize it!&amp;lt;/p&amp;gt;\n&amp;lt;h2 id=&amp;quot;visualizing-our-c-model&amp;quot;&amp;gt;Visualizing Our C++ Model &amp;lt;a class=&amp;quot;header-anchor&amp;quot; href=&amp;quot;#visualizing-our-c-model&amp;quot;&amp;gt;\u00b6&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;\n&amp;lt;p&amp;gt;The little snippet above shows us that we can now import and use our model in a Python context, but what can we do with this now? The answer is a lot! Python is very well suited to visualize data, and so we are going to use it to run and visualize our particles in a &amp;lt;em&amp;gt;live dashboard&amp;lt;/em&amp;gt;. We are going to use Python library &amp;lt;code&amp;gt;Panel&amp;lt;/code&amp;gt; to assemble the dashboard and &amp;lt;code&amp;gt;HoloViews&amp;lt;/code&amp;gt; to produce the visualizations! For brevity we are going to start with a very simple dashboard. In a future post we will dive deeper and make something much more detailed.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;There are some fairly complex things in this &amp;amp;quot;simple&amp;amp;quot; dashboard, and it may &amp;lt;em&amp;gt;look&amp;lt;/em&amp;gt; like a lot, but it is not too bad once we step through it and understand what it is doing (hopefully). Here is the general breakdown of how we set everything up, followed by the (heavily commented code).&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;Our dashboard is going to work by creating an instance of our model and then updating and visualizing that model repeatedly. We also want to provide some ability to configure the model using a few widgets; for now we will control the number of particles, the bounds to generate the particles within, and the time delta for updating the model.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;To start we need to define callbacks to handle a few different events:&amp;lt;/p&amp;gt;\n&amp;lt;ul&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;update_model&amp;lt;/code&amp;gt;: this callback should update the state of the model; we will trigger this often and automatically&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;visualize_model&amp;lt;/code&amp;gt;: this callback should return a visualization of the current model state; this will be triggered by &amp;lt;code&amp;gt;update_model&amp;lt;/code&amp;gt;&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;play&amp;lt;/code&amp;gt;: this should trigger the simulation to start playing; this will be triggered by a button&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;reset&amp;lt;/code&amp;gt;: this should reset the model state and visualization; this will be triggered by a button&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;p&amp;gt;We will also use a few global variables:&amp;lt;/p&amp;gt;\n&amp;lt;ul&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;model&amp;lt;/code&amp;gt;: instance of our C++ model&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;entity_pipe&amp;lt;/code&amp;gt;: an object to help stream data from the model to the visualization&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;periodic_callback&amp;lt;/code&amp;gt;: an object that manages a continuous periodic callback&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;p&amp;gt;And finally we will define a few widgets:&amp;lt;/p&amp;gt;\n&amp;lt;ul&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;play_button&amp;lt;/code&amp;gt;: start/stop the simulation&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;reset_button&amp;lt;/code&amp;gt;: reset the simulation&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;num_particles_slider&amp;lt;/code&amp;gt;: control the number of particles simulated&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;bounds_slider&amp;lt;/code&amp;gt;: control the bounds within which particles are generated&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;code&amp;gt;time_delta_slider&amp;lt;/code&amp;gt;: control the size of the time step when updating the model&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;p&amp;gt;Once we have all of these defined, we can pack the widgets and visualization into a layout. The general flow is straightforward - we have an instance of our model and a function that updates that instance (basically our while-loop from our initial code!). Whenever we update the model we stream its state to a visualization. - this gives us a live animation of the model&amp;#x27;s state.&amp;lt;/p&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-python&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;&amp;amp;quot;&amp;amp;quot;&amp;amp;quot;main.py&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;Defines a Panel dashboard for visualizing the native ParticleModel extension&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;&amp;amp;quot;&amp;amp;quot;&amp;amp;quot;&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;import&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;holoviews&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;as&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;hv&amp;lt;/span&amp;gt;  &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# for plotting&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;import&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;numpy&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;as&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;np&amp;lt;/span&amp;gt;      &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# for some data manipulations&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;import&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;pandas&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;as&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;pd&amp;lt;/span&amp;gt;     &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# for setting up our data&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;import&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;panel&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;as&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;      &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# for dashboarding&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;import&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;param&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;as&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;pr&amp;lt;/span&amp;gt;      &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# for a typehint&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;from&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;holoviews.streams&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;import&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Pipe&amp;lt;/span&amp;gt;        &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# for continuously streaming data to the plot&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;from&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nn&amp;quot;&amp;gt;ParticleModel&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kn&amp;quot;&amp;gt;import&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;  &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# our C++ model!&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;def&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nf&amp;quot;&amp;gt;update_model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;()&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;amp;gt;&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;&amp;amp;quot;&amp;amp;quot;&amp;amp;quot;Callback that is executed by periodic callback managed by the dashboard.&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    Update the model by a single step using the time delta. Once updated the&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    model data is packed into a dataframe and sent through the pipe.&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;update&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;time_delta_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle_data&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pd&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;DataFrame&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;([[&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;]&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;in&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;],&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;columns&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;[&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;x&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;y&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;])&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;entity_pipe&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;send&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle_data&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;def&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nf&amp;quot;&amp;gt;visualize_model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;data&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pd&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;DataFrame&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;amp;gt;&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;hv&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Points&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;&amp;amp;quot;&amp;amp;quot;&amp;amp;quot;Callback that is executed whenever data is streamed through the pipe.&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    From the model state (as sent from update_model) a scatter plot is created,&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    plotting the x-position against the y-position, giving a bird&amp;amp;#39;s-eye view of&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    the simulation.&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    We also set the dimensions of the plot and the dimensions of the data, as&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    well as enable the grid.&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    Arguments:&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;        data: single state of the simulation&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    Returns:&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;        HoloViews Points element; a scatter plot of the model state&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;return&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;hv&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Points&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;data&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;kdims&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;[&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;x&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;y&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;])&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;opts&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;height&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;640&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;width&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;640&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;xlim&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;),&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ylim&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;),&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;show_grid&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;True&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;def&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nf&amp;quot;&amp;gt;play&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;event&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pr&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;parameterized&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Event&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;amp;gt;&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;&amp;amp;quot;&amp;amp;quot;&amp;amp;quot;Callback to play the simulation.&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    Configures a periodic callback to execute our update_model callback&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    approximately 30 frames-per-second. If the callback is already scheduled&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    then disable it. Also changes the button name to indicate the state.&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    Arguments:&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;        event: the click event that triggered the callback&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;global&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;is&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;or&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;not&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;running&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;play_button&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;name&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;Stop&amp;amp;#39;&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# set the periodic to call our run_model callback at 30 frames per second&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;state&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;add_periodic_callback&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;update_model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;period&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;1000&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;//&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;30&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;elif&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;running&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;play_button&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;name&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;Play&amp;amp;#39;&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;stop&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;()&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;def&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;nf&amp;quot;&amp;gt;reset&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;event&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pr&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;parameterized&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Event&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;|&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;amp;gt;&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt;    &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;&amp;amp;quot;&amp;amp;quot;&amp;amp;quot;Callback to reset the simulation.&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    Stops periodic callback if active; remove the period callback, recreate the&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    model, and stream the initial model state through the pipe.&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    Arguments:&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;        event: the click event (or None when initialized) that triggered the&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;        callback&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;sd&amp;quot;&amp;gt;    &amp;amp;quot;&amp;amp;quot;&amp;amp;quot;&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;global&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;is&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;not&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;and&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;running&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;play_button&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;name&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;Play&amp;amp;#39;&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;stop&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;()&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;ParticleSystem&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle_data&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pd&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;DataFrame&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;([[&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;]&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;in&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;],&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;columns&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;[&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;x&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;y&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;])&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;entity_pipe&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;send&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle_data&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# create a global for the model&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# we use a pipe so that we can stream data from an asynchronous periodic callback&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;entity_pipe&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Pipe&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;data&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;[])&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# create a global periodic callback - with it being global and persisted we can&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# start and stop it at will&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;periodic_callback&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# play button, with the play callback attached to the on-click event of the button &amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;play_button&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;widgets&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Button&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;name&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;Play&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;play_button&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;on_click&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;play&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# reset button, with the reset callback attached to the on-click event of the button &amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;reset_button&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;widgets&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;Button&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;name&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;Reset&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;reset_button&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;on_click&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;reset&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# input sliders for various options&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles_slider&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;widgets&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;FloatSlider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;name&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;Number of Particles&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;start&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;end&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;1000&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;step&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;100&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds_slider&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;widgets&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;FloatSlider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;name&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;Bounds&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;start&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;25&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;end&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;2500&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;100&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;step&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mi&amp;quot;&amp;gt;25&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;time_delta_slider&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;widgets&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;FloatSlider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;name&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s1&amp;quot;&amp;gt;&amp;amp;#39;Time Delta (s)&amp;amp;#39;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;start&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;end&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;1.0&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;value&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;step&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;0.1&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# upon loading the dashboard, reset the model and view&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;state&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;onload&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;lambda&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;reset&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;kc&amp;quot;&amp;gt;None&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;))&amp;lt;/span&amp;gt;\n\n&amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# assemble everything in one of the built-in templates&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;pn&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;template&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;MaterialTemplate&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;site&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;s2&amp;quot;&amp;gt;&amp;amp;quot;Particle Model &amp;amp;quot;&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;main&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;[&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# this is important! the DynamicMap ties the plotting callback to the pipe!&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;hv&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;DynamicMap&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;visualize_model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;streams&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;[&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;entity_pipe&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;])&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;],&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;sidebar&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;[&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;num_particles_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;bounds_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;time_delta_slider&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;play_button&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;reset_button&amp;lt;/span&amp;gt;\n    &amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;]&amp;lt;/span&amp;gt;\n&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;servable&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;()&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;c1&amp;quot;&amp;gt;# set the template as servable so that we can... serve it!&amp;lt;/span&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;This heavily commented code is ~125 lines long, but really it is closer to maybe 70 lines if we strip it down. We can run the dashboard by saving this &amp;lt;code&amp;gt;main.py&amp;lt;/code&amp;gt; to the same directory that contains our compiled C++ model, and then by running the following command:&amp;lt;/p&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-shell&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;panel&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;serve&amp;lt;span class=&amp;quot;w&amp;quot;&amp;gt; &amp;lt;/span&amp;gt;main.py\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;This will launch a local webserver that you can access in your browser. You should see something like this:&amp;lt;/p&amp;gt;\n&amp;lt;center&amp;gt;&amp;lt;img src=&amp;quot;/assets/images/2023-04-16-visualizing-a-live-cpp-model-in-python/basic.gif&amp;quot; width=&amp;quot;800&amp;quot;&amp;gt;&amp;lt;/center&amp;gt;\n&amp;lt;p&amp;gt;The particles are pulled towards the center because our model creates a very heavy particle at the origin that overwhelmingly attracts the other particles. When two particles get arbitrarily close the force due to gravity approaches infinity, and because we are not modeling collisions, the particles will just shoot out of orbit.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;We can do much more from here, but for now we are just going to update the initial state of the model &amp;lt;em&amp;gt;from Python&amp;lt;/em&amp;gt; to give it a twist! Let&amp;#x27;s change our &amp;lt;code&amp;gt;reset&amp;lt;/code&amp;gt; function by adding the following code right before building the dataframe:&amp;lt;/p&amp;gt;\n&amp;lt;pre&amp;gt;&amp;lt;code class=&amp;quot;language-python&amp;quot;&amp;gt;&amp;lt;div class=&amp;quot;codehilite&amp;quot;&amp;gt;&amp;lt;pre&amp;gt;&amp;lt;span&amp;gt;&amp;lt;/span&amp;gt;&amp;lt;code&amp;gt;    &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;for&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;ow&amp;quot;&amp;gt;in&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;model&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particles&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;r&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;np&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;hypot&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;(&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;,&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;)&amp;lt;/span&amp;gt;\n        &amp;lt;span class=&amp;quot;k&amp;quot;&amp;gt;if&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;r&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;&amp;amp;gt;&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;mf&amp;quot;&amp;gt;1.0e-8&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;p&amp;quot;&amp;gt;:&amp;lt;/span&amp;gt;\n            &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vx&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;-&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;y&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;/&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;r&amp;lt;/span&amp;gt;\n            &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;vy&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;=&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;particle&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;.&amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;x&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;o&amp;quot;&amp;gt;/&amp;lt;/span&amp;gt; &amp;lt;span class=&amp;quot;n&amp;quot;&amp;gt;r&amp;lt;/span&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;\n&amp;lt;/code&amp;gt;&amp;lt;/pre&amp;gt;\n&amp;lt;p&amp;gt;This code updates the particles within the model by sending them on a small counter-clockwise trajectory based on the quadrant they are in. This gives us a rather satisfying swirling motion!&amp;lt;/p&amp;gt;\n&amp;lt;center&amp;gt;&amp;lt;img src=&amp;quot;/assets/images/2023-04-16-visualizing-a-live-cpp-model-in-python/swirl.gif&amp;quot; width=&amp;quot;800&amp;quot;&amp;gt;&amp;lt;/center&amp;gt;\n&amp;lt;p&amp;gt;Depending on your machine, simulating 1000 particles may be a bit clunky (even in the gifs above you can see a little bit of stuttering) - the little bits of choppiness in the animations are due to the model updates taking more than ~33 milliseconds. We are using the brute-force method for updating the model, but we could achieve better performance using a Barnes-Hut Approximation, or even multithreading (true multithreading from C++!), or any number of other solutions. If we had written this model in Python we would likely be dealing with even worse performance issues (assuming we are not properly using NumPy and/or Numba!).&amp;lt;/p&amp;gt;\n&amp;lt;h2 id=&amp;quot;final-notes&amp;quot;&amp;gt;Final Notes &amp;lt;a class=&amp;quot;header-anchor&amp;quot; href=&amp;quot;#final-notes&amp;quot;&amp;gt;\u00b6&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;\n&amp;lt;p&amp;gt;To recap - we started with a standalone C++ program that generated CSVs. Then we pulled the code apart to isolate the core model and logic, and wrapped that core model using &amp;lt;code&amp;gt;pybind11&amp;lt;/code&amp;gt; to make it usable from within Python. And finally we wrote a dashboard to instantiate, update, and visualize our model using &amp;lt;code&amp;gt;Panel&amp;lt;/code&amp;gt; and &amp;lt;code&amp;gt;HoloViews&amp;lt;/code&amp;gt;. The final set of code used in this post can be &amp;lt;a href=&amp;quot;https://github.com/NESWare/gallery/tree/main/gallery/viz_cpp_model_in_python&amp;quot;&amp;gt;found here&amp;lt;/a&amp;gt;.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;We can go &amp;lt;em&amp;gt;a lot&amp;lt;/em&amp;gt; further with improving both our model (to make it more configurable, more performant) and our dashboard, but this post was sort of already blowing up a good bit. In future posts we will cover some optimizations for the model, and in another post we will add even more to our dashboard to update both its functionality and its aesthetics.&amp;lt;/p&amp;gt;\n&amp;lt;p&amp;gt;In the meantime check out the projects used to build this, there are endless possibilities! With all of these tools we can create some astoundingly powerful simulations and visualizations, all we need to do is just throw some code together and these tools take care of the rest!&amp;lt;/p&amp;gt;\n&amp;lt;ul&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;https://holoviews.org/&amp;quot;&amp;gt;HoloViews&amp;lt;/a&amp;gt; for visualizations&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;https://panel.holoviz.org/&amp;quot;&amp;gt;Panel&amp;lt;/a&amp;gt; for dashboarding&amp;lt;/li&amp;gt;\n&amp;lt;li&amp;gt;&amp;lt;a href=&amp;quot;https://pybind11.readthedocs.io/en/stable/index.html&amp;quot;&amp;gt;pybind11&amp;lt;/a&amp;gt; for calling C++ code from Python&amp;lt;/li&amp;gt;\n&amp;lt;/ul&amp;gt;\n&amp;lt;script&amp;gt;\n    document.title = &amp;#x27;Visualizing a Live C++ Model in Python | NESWare.io&amp;#x27;;&amp;lt;/script&amp;gt;"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1378","attributes":{"button_type":"success","name":"nav-139839644584416","tags":["nav"],"js_event_callbacks":{"type":"map","entries":[["button_click",[{"type":"object","name":"CustomJS","id":"p1406","attributes":{"tags":[[139839644576672,[null,"event:button_click"],[null,null]]],"args":{"type":"map","entries":[["source",{"id":"p1378"}]]},"code":"try { window.location = \"/\" } catch(err) { console.log(err) }"}}]]]},"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["outline"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1398","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css"}},{"type":"object","name":"ImportedStyleSheet","id":"p1399","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/button.css"}},{"id":"p1375"},":hover { background-color: #e8fff4; }"],"margin":[5,10],"sizing_mode":"stretch_width","align":"start","label":"Home"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1381","attributes":{"button_type":"success","name":"nav-139839646798224","tags":["nav"],"js_event_callbacks":{"type":"map","entries":[["button_click",[{"type":"object","name":"CustomJS","id":"p1407","attributes":{"tags":[[139839644574176,[null,"event:button_click"],[null,null]]],"args":{"type":"map","entries":[["source",{"id":"p1381"}]]},"code":"try { window.location = \"/blog.html\" } catch(err) { console.log(err) }"}}]]]},"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["outline"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1400","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css"}},{"type":"object","name":"ImportedStyleSheet","id":"p1401","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/button.css"}},{"id":"p1375"},":hover { background-color: #e8fff4; }"],"margin":[5,10],"sizing_mode":"stretch_width","align":"start","label":"Blog"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1384","attributes":{"button_type":"success","name":"nav-139839644490000","tags":["nav"],"js_event_callbacks":{"type":"map","entries":[["button_click",[{"type":"object","name":"CustomJS","id":"p1408","attributes":{"tags":[[139839644490288,[null,"event:button_click"],[null,null]]],"args":{"type":"map","entries":[["source",{"id":"p1384"}]]},"code":"try { window.location = \"/projects.html\" } catch(err) { console.log(err) }"}}]]]},"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["outline"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1402","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css"}},{"type":"object","name":"ImportedStyleSheet","id":"p1403","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/button.css"}},{"id":"p1375"},":hover { background-color: #e8fff4; }"],"margin":[5,10],"sizing_mode":"stretch_width","align":"start","label":"Projects"}},{"type":"object","name":"panel.models.widgets.Button","id":"p1387","attributes":{"button_type":"success","name":"nav-139839644489184","tags":["nav"],"js_event_callbacks":{"type":"map","entries":[["button_click",[{"type":"object","name":"CustomJS","id":"p1409","attributes":{"tags":[[139839646736912,[null,"event:button_click"],[null,null]]],"args":{"type":"map","entries":[["source",{"id":"p1387"}]]},"code":"try { window.location = \"/about.html\" } catch(err) { console.log(err) }"}}]]]},"subscribed_events":{"type":"set","entries":["button_click"]},"css_classes":["outline"],"stylesheets":["\n:host(.pn-loading):before, .pn-loading:before {\n  background-color: #c3c3c3;\n  mask-size: auto calc(min(50%, 400px));\n  -webkit-mask-size: auto calc(min(50%, 400px));\n}",{"type":"object","name":"ImportedStyleSheet","id":"p1404","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/loading.css"}},{"type":"object","name":"ImportedStyleSheet","id":"p1405","attributes":{"url":"https://cdn.holoviz.org/panel/1.6.1/dist/css/button.css"}},{"id":"p1375"},":hover { background-color: #e8fff4; }"],"margin":[5,10],"sizing_mode":"stretch_width","align":"start","label":"About"}}],"defs":[{"type":"model","name":"ReactiveHTML1"},{"type":"model","name":"FlexBox1","properties":[{"name":"align_content","kind":"Any","default":"flex-start"},{"name":"align_items","kind":"Any","default":"flex-start"},{"name":"flex_direction","kind":"Any","default":"row"},{"name":"flex_wrap","kind":"Any","default":"wrap"},{"name":"gap","kind":"Any","default":""},{"name":"justify_content","kind":"Any","default":"flex-start"}]},{"type":"model","name":"FloatPanel1","properties":[{"name":"config","kind":"Any","default":{"type":"map"}},{"name":"contained","kind":"Any","default":true},{"name":"position","kind":"Any","default":"right-top"},{"name":"offsetx","kind":"Any","default":null},{"name":"offsety","kind":"Any","default":null},{"name":"theme","kind":"Any","default":"primary"},{"name":"status","kind":"Any","default":"normalized"}]},{"type":"model","name":"GridStack1","properties":[{"name":"mode","kind":"Any","default":"warn"},{"name":"ncols","kind":"Any","default":null},{"name":"nrows","kind":"Any","default":null},{"name":"allow_resize","kind":"Any","default":true},{"name":"allow_drag","kind":"Any","default":true},{"name":"state","kind":"Any","default":[]}]},{"type":"model","name":"drag1","properties":[{"name":"slider_width","kind":"Any","default":5},{"name":"slider_color","kind":"Any","default":"black"},{"name":"value","kind":"Any","default":50}]},{"type":"model","name":"click1","properties":[{"name":"terminal_output","kind":"Any","default":""},{"name":"debug_name","kind":"Any","default":""},{"name":"clears","kind":"Any","default":0}]},{"type":"model","name":"FastWrapper1","properties":[{"name":"object","kind":"Any","default":null},{"name":"style","kind":"Any","default":null}]},{"type":"model","name":"NotificationAreaBase1","properties":[{"name":"js_events","kind":"Any","default":{"type":"map"}},{"name":"position","kind":"Any","default":"bottom-right"},{"name":"_clear","kind":"Any","default":0}]},{"type":"model","name":"NotificationArea1","properties":[{"name":"js_events","kind":"Any","default":{"type":"map"}},{"name":"notifications","kind":"Any","default":[]},{"name":"position","kind":"Any","default":"bottom-right"},{"name":"_clear","kind":"Any","default":0},{"name":"types","kind":"Any","default":[{"type":"map","entries":[["type","warning"],["background","#ffc107"],["icon",{"type":"map","entries":[["className","fas fa-exclamation-triangle"],["tagName","i"],["color","white"]]}]]},{"type":"map","entries":[["type","info"],["background","#007bff"],["icon",{"type":"map","entries":[["className","fas fa-info-circle"],["tagName","i"],["color","white"]]}]]}]}]},{"type":"model","name":"Notification","properties":[{"name":"background","kind":"Any","default":null},{"name":"duration","kind":"Any","default":3000},{"name":"icon","kind":"Any","default":null},{"name":"message","kind":"Any","default":""},{"name":"notification_type","kind":"Any","default":null},{"name":"_rendered","kind":"Any","default":false},{"name":"_destroyed","kind":"Any","default":false}]},{"type":"model","name":"TemplateActions1","properties":[{"name":"open_modal","kind":"Any","default":0},{"name":"close_modal","kind":"Any","default":0}]},{"type":"model","name":"BootstrapTemplateActions1","properties":[{"name":"open_modal","kind":"Any","default":0},{"name":"close_modal","kind":"Any","default":0}]},{"type":"model","name":"TemplateEditor1","properties":[{"name":"layout","kind":"Any","default":[]}]},{"type":"model","name":"MaterialTemplateActions1","properties":[{"name":"open_modal","kind":"Any","default":0},{"name":"close_modal","kind":"Any","default":0}]},{"type":"model","name":"ReactiveESM1","properties":[{"name":"esm_constants","kind":"Any","default":{"type":"map"}}]},{"type":"model","name":"JSComponent1","properties":[{"name":"esm_constants","kind":"Any","default":{"type":"map"}}]},{"type":"model","name":"ReactComponent1","properties":[{"name":"esm_constants","kind":"Any","default":{"type":"map"}}]},{"type":"model","name":"AnyWidgetComponent1","properties":[{"name":"esm_constants","kind":"Any","default":{"type":"map"}}]},{"type":"model","name":"request_value1","properties":[{"name":"fill","kind":"Any","default":"none"},{"name":"_synced","kind":"Any","default":null},{"name":"_request_sync","kind":"Any","default":0}]}]}}
    </script>
    <script type="text/javascript">
      (function() {
        const fn = function() {
          Bokeh.safely(function() {
            (function(root) {
              function embed_document(root) {
              const docs_json = document.getElementById('bcf39a03-97ac-4d0a-880d-b0c57c92df72').textContent;
              const render_items = [{"docid":"e3de798c-6444-4dfb-acf7-3dcb83b87491","roots":{"p1355":"d7bbb8ef-6ea9-4a13-8c5e-63933c3b00b3","p1362":"a1531076-c8c2-400d-a101-6a6a80a95fae","p1365":"f1449fed-ff7e-4754-846a-d20e7f1e7960","p1366":"c1f325f3-5b59-45ee-af71-8d3a33a8bd97","p1369":"be3825c9-f9fe-40a7-80e7-0cafcce5e7cc","p1372":"ea406111-7553-43b3-bab6-2b7348c5219d","p1378":"b7c0837d-3a40-44b8-a7bc-9ab8b5229c03","p1381":"bc2b8370-30d4-4c61-9ef6-2e0fba0c2daf","p1384":"e3630d15-ead6-4055-9c10-e7951554dd19","p1387":"b0d807b2-0349-4aaf-b4a8-9eba40e63582"},"root_ids":["p1355","p1362","p1365","p1366","p1369","p1372","p1378","p1381","p1384","p1387"]}];
              root.Bokeh.embed.embed_items(docs_json, render_items);
              }
              if (root.Bokeh !== undefined) {
                embed_document(root);
              } else {
                let attempts = 0;
                const timer = setInterval(function(root) {
                  if (root.Bokeh !== undefined) {
                    clearInterval(timer);
                    embed_document(root);
                  } else {
                    attempts++;
                    if (attempts > 100) {
                      clearInterval(timer);
                      console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                    }
                  }
                }, 10, root)
              }
            })(window);
          });
        };
        if (document.readyState != "loading") fn();
      else document.addEventListener("DOMContentLoaded", fn, {once: true});
      })();
    </script>
  </body>
</html>